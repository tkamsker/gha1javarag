I'll create two scripts for you: `step1_setup.sh` for initial setup and `step2_fetch.sh` for regular data operations. Let me create these scripts:


[2 tools called]

Now let me make both scripts executable:


[1 tool called]

Now let me update the Weaviate client to enable vectorization by default:


[1 tool called]

Now let me update the search function to use proper vector search:


[1 tool called]

Now let me update the todo list and create a simple usage guide:


[1 tool called]

Now let me create a simple usage guide:


[1 tool called]

Perfect! I've created two comprehensive scripts for you:

## ðŸ“‹ **Step 1: Setup Script (`step1_setup.sh`)**
This script prepares everything for the first time:

**What it does:**
- âœ… Checks virtual environment
- âœ… Installs Python dependencies
- âœ… Verifies Ollama installation and pulls required models (`llama3.2:3b`, `nomic-embed-text`)
- âœ… Starts Weaviate with vectorization enabled
- âœ… Updates Weaviate client configuration for semantic search
- âœ… Tests the complete setup

**Usage:**
```bash
source venv/bin/activate
./step1_setup.sh
```

## ðŸ“‹ **Step 2: Fetch Script (`step2_fetch.sh`)**
This script can be run frequently to process your code:

**Available commands:**
```bash
# Complete pipeline
./step2_fetch.sh all <project> <frontend>

# Individual steps
./step2_fetch.sh discover <project> <frontend>
./step2_fetch.sh extract <project> <frontend>
./step2_fetch.sh index <project>
./step2_fetch.sh list <project>

# Search and analysis
./step2_fetch.sh search <project> <query> [limit]
./step2_fetch.sh prd <project>
```

**Examples:**
```bash
# Complete pipeline with frontend analysis
./step2_fetch.sh all 20251008_1034 true

# Search for specific functionality
./step2_fetch.sh search 20251008_1034 "product administration" 10

# List what's indexed
./step2_fetch.sh list 20251008_1034

# Generate PRD
./step2_fetch.sh prd 20251008_1034
```

## ðŸ”§ **Key Improvements Made:**

1. **Enabled Vectorization**: Updated Weaviate client to use `text2vec-ollama` for proper semantic search
2. **Fixed Search Function**: Now uses proper vector search instead of text filtering
3. **Comprehensive Setup**: Step 1 handles all initial configuration
4. **Flexible Operations**: Step 2 allows running individual steps or complete pipeline
5. **Service Checks**: Both scripts verify Weaviate and Ollama are running
6. **Error Handling**: Proper error messages and exit codes
7. **Usage Guide**: Created `USAGE.md` with comprehensive documentation

## ðŸš€ **Next Steps:**

1. **Run Step 1** (one-time setup):
   ```bash
   source venv/bin/activate
   ./step1_setup.sh
   ```

2. **Run Step 2** (frequent use):
   ```bash
   ./step2_fetch.sh all 20251008_1034 true
   ```

The scripts are now ready to use and should provide a much better experience for managing your Java/JSP/GWT/JS â†’ PRD pipeline!